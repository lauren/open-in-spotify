(function(e){var t=function(e){var t=JSON.parse(e),n=r(t.tracks),s=i(n);s.length===0?spotifyQuerier.searchForArtist(parseArtistSearch,showError,sourceSiteData.artist):s.length===1?render.openInSpotify(s[0].href):render.showTrackOptions(s)},n=function(e){var t=JSON.parse(e),n=t.info.num_results;n===0?render.showNotFoundMessage():render.showArtistOptions(t.artists)},r=function(e){return e.filter(function(e){return u(e.artists,sourceSiteData.artist)>-1})},i=function(e){var e=s(e.reverse()),t=e.filter(function(t,n){var r=e.slice(n+1,e.length);return!o(t,r)});return t.reverse()},s=function(e){return e.map(function(e){return e.name=e.name.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,""),e.name=e.name.replace(/\s{2,}/g," "),e.album.name=e.album.name.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,""),e.album.name=e.album.name.replace(/\s{2,}/g," "),e})},o=function(e,t){for(var n=0;n<t.length;n++)if(e.name===t[n].name&&e.album.name===t[n].album.name)return!0;return!1},u=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name.toLowerCase()===t.toLowerCase())return n;return-1};e.router={trackSearch:t,artistSearch:n}})(typeof exports=="undefined"?this:exports);