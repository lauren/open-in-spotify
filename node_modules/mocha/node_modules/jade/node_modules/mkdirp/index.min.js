function mkdirP(p,mode,f){if(typeof mode=="function"||mode===undefined)f=mode,mode=511&~process.umask();var cb=f||function(){};typeof mode=="string"&&(mode=parseInt(mode,8)),p=path.resolve(p),fs.mkdir(p,mode,function(er){if(!er)return cb();switch(er.code){case"ENOENT":mkdirP(path.dirname(p),mode,function(er){er?cb(er):mkdirP(p,mode,cb)});break;case"EEXIST":fs.stat(p,function(er2,stat){er2||!stat.isDirectory()?cb(er):cb()});break;default:cb(er)}})}var path=require("path"),fs=require("fs");module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function sync(p,mode){mode===undefined&&(mode=511&~process.umask()),typeof mode=="string"&&(mode=parseInt(mode,8)),p=path.resolve(p);try{fs.mkdirSync(p,mode)}catch(err0){switch(err0.code){case"ENOENT":var err1=sync(path.dirname(p),mode);if(err1)throw err1;return sync(p,mode);case"EEXIST":var stat;try{stat=fs.statSync(p)}catch(err1){throw err0}if(!stat.isDirectory())throw err0;return null;default:throw err0}}return null};