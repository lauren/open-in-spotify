function mkdirP(p,mode,f,made){if(typeof mode=="function"||mode===undefined)f=mode,mode=511&~process.umask();made||(made=null);var cb=f||function(){};typeof mode=="string"&&(mode=parseInt(mode,8)),p=path.resolve(p),fs.mkdir(p,mode,function(er){if(!er)return made=made||p,cb(null,made);switch(er.code){case"ENOENT":mkdirP(path.dirname(p),mode,function(er,made){er?cb(er,made):mkdirP(p,mode,cb,made)});break;default:fs.stat(p,function(er2,stat){er2||!stat.isDirectory()?cb(er,made):cb(null,made)})}})}var path=require("path"),fs=require("fs");module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function sync(p,mode,made){mode===undefined&&(mode=511&~process.umask()),made||(made=null),typeof mode=="string"&&(mode=parseInt(mode,8)),p=path.resolve(p);try{fs.mkdirSync(p,mode),made=made||p}catch(err0){switch(err0.code){case"ENOENT":made=sync(path.dirname(p),mode,made),sync(p,mode,made);break;default:var stat;try{stat=fs.statSync(p)}catch(err1){throw err0}if(!stat.isDirectory())throw err0}}return made};