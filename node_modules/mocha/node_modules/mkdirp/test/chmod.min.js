var mkdirp=require("../").mkdirp,path=require("path"),fs=require("fs"),test=require("tap").test,ps=["","tmp"];for(var i=0;i<25;i++){var dir=Math.floor(Math.random()*Math.pow(16,4)).toString(16);ps.push(dir)}var file=ps.join("/");test("chmod-pre",function(t){var mode=484;mkdirp(file,mode,function(er){t.ifError(er,"should not error"),fs.stat(file,function(er,stat){t.ifError(er,"should exist"),t.ok(stat&&stat.isDirectory(),"should be directory"),t.equal(stat&&stat.mode&511,mode,"should be 0744"),t.end()})})}),test("chmod",function(t){var mode=493;mkdirp(file,mode,function(er){t.ifError(er,"should not error"),fs.stat(file,function(er,stat){t.ifError(er,"should exist"),t.ok(stat&&stat.isDirectory(),"should be directory"),t.end()})})});